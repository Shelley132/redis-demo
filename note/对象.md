## 对象的类型和编码
### 类型 redisObject.type
- 对象的类型
    - REDIS_STRING 字符串对象 string
    - REDIS_LIST 列表对象 list
    - REDIS_HASH 哈希对象 hash
    - REDIS_SET 集合对象 set
    - REDIS_ZSET 有序集合对象 zset
- type命令：数据库键对应的值对象的类型
### 编码和底层实现 redisObject.encoding ptr底层实现数据结构
- 对象的编码
    - OBJ_ENCODING_RAW SDS    raw
    - OBJ_ENCODING_INT long类型的整数  int
    - OBJ_ENCODING_HT 字典    hashtable
    - OBJ_ENCODING_ZIPMAP zipmap
    - OBJ_ENCODING_LINKEDLIST 双端链表    linkedlist 
        - Redis 3.2 不再使用它，更换为OBJ_ENCODING_QUICKLIST
    - OBJ_ENCODING_ZIPLIST 压缩列表   ziplist
    - OBJ_ENCODING_INTSET 整数集合    intset
    - OBJ_ENCODING_SKIPLIST 跳跃表和字典  skiplist
    - OBJ_ENCODING_EMBSTR embstr编码的SDS  embstr
    - OBJ_ENCODING_QUICKLIST
        - 3.2版本后list底层实现
    - OBJ_ENCODING_STREAM
- 不同类型和编码的对象: 
    - REDIS_STRING
        - 编码
            - OBJ_ENCODING_INT 整数值（浮点数值用下面两个编码）
            - OBJ_ENCODING_EMBSTR 小于等于32字节的字符串
                - embstr只读，无法修改
                - embstr优势：一次内存分配函数分配连续空间
            - OBJ_ENCODING_RAW 大于32字节的字符串
        - 命令
            - SET
            - GET
            - APPEND
            - INCRBYFLOAT
            - INCRBY
            - DECRBY
            - STRLEN int转成字符串，再计算长度；sdslen函数
            - SETRANGE int和embstr转成raw，再执行；将字符串特定索引上的值设置为给定的字符
            - GETRANGE int转成字符串再取；直接取指定索引上的字符
    - REDIS_LIST
        - 编码
            - OBJ_ENCODING_ZIPLIST 
                - 列表对象保存的所有字符串元素的长度都小于64字节 list-max-ziplist-value
                - 列表对象保存的元素数量小于512个 list-max-ziplist-entries
            - ~~OBJ_ENCODING_LINKEDLIST~~
            - OBJ_ENCODING_QUICKLIST
        - 命令
            - LPUSH ziplistPush； listAddNodeHead
            - RPUSH ziplistPush; listAddNodeTail
            - LPOP ziplistIndex（取表头） -> ziplistDelete; listFirst（取表头） -> listDelNode
            - RPOP ziplistIndex（取表尾） -> ziplistDelete; listLast（取表尾） -> listDelNode
            - LINDEX ziplistIndex; listIndex
            - LLEN ziplistLen; listLength
            - LINSERT 表头或表尾ziplistPush，其他ziplistInsert；listInsertNode
            - LREM ziplistDelete； listDelNode
            - LTRIM ziplistDeleteRange; listDelNode
            - LSET ziplistDelete -> ziplistInsert; listIndex
    - REDIS_HASH
        - OBJ_ENCODING_ZIPLIST ???
        - OBJ_ENCODING_HT
    - REDIS_SET
        - OBJ_ENCODING_INTSET
        - OBJ_ENCODING_HT
    - REDIS_ZSET
        - OBJ_ENCODING_ZIPLIST
        - OBJ_ENCODING_SKIPLIST
- object encoding命令： 数据库键对应的值对象的编码

